{% extends 'nutriplan/aaa_base.html' %}

{% load static %}

{% block extrahead %}
    {% include 'nutriplan/script_msj_alerta.html' %}
{% endblock %}


{% block content %}
    <header>
    </header>

    <main>
        <div>
            <h2>Paso 2: Almuerzos</h2>
            <p>Ya hemos llegado a la mitad del día, pero aun queda recorrido por delante.</p>
            <p>Por eso necesitamos recargar nuestras energías con un almuerzo balanceado según nuestras necesidades.</p>
            <p>Elige hasta 3 de tus alimentos favoritos para el almuerzo.</p>


            <form action="/nutriplan/elegir-meriendas-favoritas" method="POST">
                {% csrf_token %}

                {% for comida in COMIDA_CHOICES %}
                    {% if comida == 'Almuerzo' %}
                        <h3>{{comida}}</h3>
                        <div id="checkboxgroup{{comida}}">
                        {% for alimento in alimentos %}
                            {% if alimento.comida == comida %}
                            <label>
                                <input type="checkbox" name="opciones{{comida}}" value="{{alimento.id}}" onclick="return onlyOneCheckBox{{comida}}()"> {{alimento.nombre}} <!-- {{alimento.id}} {{alimento.comida}} -->
                            </label><br>
                            {% endif %}
                        {% endfor %}
                        </div>
                        <script type="text/javascript">
                            onlyOneCheckBox{{comida}}()
                        </script>
                    {% endif %}
                {% endfor %}

                <input type="submit" value="Ya estamos más cerca! Vamos al paso 3">
            </form>
        </div>

        <!-- otra forma de contar checkboxes -->
<!--         <div>
                <span id="notvalid" style="color: red;"> </span>
            </div>

            <script type="text/javascript">

                function myfun() {
                    var a = document.getElementsByName('opcionesCena');
                    var newvar = 0;
                    var count;
                    for(count = 0; count <a.length; count++){
                        if(a[count].checked==true){
                            newvar = newvar + 1;
                        }
                    }

                    if(newvar>=5){
                        document.getElementById('notvalid').innerHTML="**Please select only Four**"
                        return false;
                    }

                    if(newvar<5){
                        document.getElementById('notvalid').innerHTML=""
                        return true;
                    }
                }
                
            </script> -->
    </main>
{% endblock %}
